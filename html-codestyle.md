# Руководство по оформлению HTML/CSS кода

Это руководство описывает правила оформления и форматирования HTML и CSS кода.
Его цель — повысить качество кода и облегчить совместную работу и поддержку инфраструктуры.

## Общие правила оформления кода

### Отступы
Для создания отступов всегда используйте символ табуляции. Не используйте пробелы и не смешивайте табуляцию с пробелами.
Настройте редактор кода так, чтобы он отображал невидимые символы.
Это позволит избегать случайных пробелов в конце строк или в пустых строках и легче отслеживать изменения в коде.
В PHPStorm это делается в меню _View_ -> _Active Editor_ -> _Show Whitespaces_ и в настройках
_Preferences_ -> _Editor_ -> _General_ -> _Appearence_ -> _Show Whitespaces_.

### Кодировка
Несмотря на то, что UTF-8 захватил весь мир, клиенты могут устанавить наш продукт либо в ANSI-кодировке, либо в UTF-8.
Исходной кодировкой репозитария является `windows-1251`. В этой кодировке должны создаваться и
редактироваться все текстовые файлы. Обязательно в настройках проекта PHPStorm (_Editor_ -> _File Encodings_)
укажите `windows-1251`.

### Перевод строки
Стандартом для разрыва строки является символ `\n`.
Настройка PHPStorm: _Editor_ -> _Code Style_ -> _Line separator_ -> _Unix and OS X \n_.

### Регистр
Названия тегов, атрибутов и названия классов должны быть всегда в нижнем регистре.

### Пробелы в конце строки
Убирайте пробелы в конце строки. Пробелы в конце строк не обязательны и усложняют использование diff.
В PHPStorm есть настройка _Strip Trailing Spaces on Save_, которая удаляет пробелы в конце строк перед сохранением файла.

### Комментарии
Все комментарии должны быть на английском языке.

## Правила оформления HTML

### Семантика

Семантика - это когда смотришь на html страницы и понимаешь логическое и функциональное назначение каждого тега.
В HTML существует довольно много тегов, которые в своем названии несут четкую семантику: `<a>`, `<p>`, `<i>`, `<menu>`.
Не стоит с помощью CSS таким тегам менять их базовый смысл.
Идеально для верстальщика было бы удобно использовать теги с произвольными названиями.

```html
<users>
	<user>
		<avatar></avatar>
		<name></name>
	</user>
</users>
```

HTML5 предлагает механизм для создания произвольных тегов (Web Components), но, к сожалению,
его реализация не самая простая (нужно писать JavaScript) и поддержка в браузерах неполная.
Единственный нормальный способ писать семантический код - использовать атрибут `class`.
Он позволяет описать смысл тега естественными словами, не требователен к уникальности (в отличие от атрибута `id`) и
поддерживает возможность указать несколько классов к одном тегу.

### Основы верстки

- Используем теги `div` (для блочных элементов) и `span` (для строчных и строчно-блочных элементов).
- Остальные теги используем только согласно их базовому смыслу.
- `<b>`, `<i>`, `<s>`, `<p>`, `h1-h6` - используются только для форматирования текста.
  Как правило, эти стили находятся в шаблоне сайта и в стилях компонентов не присутствуют.
- Для привязки CSS-свойств к тегу используем только атрибут `class`.
- Если нажатие на элемент приводит к открытию новой страницы, используем тег `<a>`.
	В противном случае используем `<span>` или `<div>`.
- Отступы между логическими блоками никогда не делаем пробелами или тегом `<br>`.
- Структуры html-тегов необходимо делать по сетке дизайна. "Колонки" и логические блоки одного уровня
  обязательно помещать в контейнер.
- Удаление логических блоков не должно рушить дизайн.
- Всегда есть вероятность, что на реальном сайте количество текст будет больше, чем нарисовано в макете.
  Верстка должна быть адаптивной к появлению дополнительных строк и к длинным строкам без пробелов.
- Текстовый элемент не может быть на одном уровне с тегом

	Плохо:
	```html
	<div class="task-detail-group">Задача в проекте: <div class="task-detail-link">добавить</div></div>
	```
	Хорошо:
	```html
	<div class="task-detail-group">
		<span class="task-detail-group-label">Группа:</span>
		<span class="task-detail-group-name">Название группы</span>
	</div>
	```

### Особые случаи
- Внимательно относимся к элементам `inline-block`, перевод строки между ними будет отображен как пробел

### Тип документа
Создавайте новую верстку по стандарту HTML5. В старых шаблонах по возможности избавляйтесь
от XHTML (слешей в конце тегов `<br />`, `<img />`).
```html
<!DOCTYPE html>
```

### Алтернативные атрибуты (alt, title)
Очень часто разработчики забывают указывать альтернативные подписи к иконками, кнопками или другим графическим элементам.
Наличие атрибутов `title` и `alt` в верстке поможет решить эту проблему.


### Разделение ответсвенности
Держите структуру (разметка), оформление (стили) и поведение (скрипты) раздельно и постарайтесь свести
взаимодействие между ними к минимуму. Убедитесь, что документы и шаблоны содержат только HTML, и что HTML служит только для задания структуры документа.
Весь код, отвечающий за оформление, перенесите в файлы стилей, а код отвечающий за поведение — в скрипты.
Отделение структуры от представления и поведения помогает облегчить поддержку кода.
Изменение шаблонов и HTML-документов всегда занимает больше времени чем изменение файлов стилей или скриптов.

### Картинки
	Требования к картинкам
	SVG

## Правила форматирования HTML

### Новая строка для каждого блочного или табличного элементов
### Двойные кавычки в атрибутах
### Закрывающие /

## Правила оформления CSS

## Каскадные селекторы
	- Почему не используем
	- Где допустим

## Именование классов
	- формат
	- уникальность, стили разных компонентов никогда не пересекутся
	- легче найти в поиске
	- для разделения слов используем дефис
	- слова в селекторе на английском языке
	- согласовать основные названия с разработчиком
	- никаких префиксов bx-
	- если происходит обращение по классу через JavaScript, то такой класс должен иметь префикс js

## Селекторы типа
## Сокращенная форма записи свойств
## 0 и единицы измерения
## Кавычки в ссылках
## Хаки
	.bx-chrome, .bx-firefox, .bx-ie10
## Группировка правил
## Селекторы состояний (selected, active и hover)

## Правила форматирования CSS

- При создании правила для нескольких селекторов помещайте каждый селектор на отдельной строке.
- Перед открывающей скобкой ставьте один пробел.
- Внутри блока объявлений помещайте каждое объявление на отдельной строке.
- Добавляйте один уровень отступов перед каждым объявлением.
- Ставьте пробел после двоеточия внутри объявления.
- Всегда ставьте точку с запятой после последнего объявления в блоке.
- Ставьте закрывающую скобку на одной вертикальной линии с первым символом в селекторе.
- Ставьте пробел после каждой запятой в объявлениях со множественным значением
- Разделяйте правила пустой строкой.
- Исключения
  - К большим группам правил, состоящих из одного свойства, может применяться запись в одну строку.
    В таком случае следует ставить пробел после открывающей и перед закрывающей скобками.
  - Длинные значения свойств, разделяемые запятыми — как, например, набор градиентов или теней — могут быть помещены на отдельной строке каждое, чтобы повысить читабельность кода и сообщений в системе управления версиями. Формат записи может слегка различаться, один из вариантов приведён ниже.
- Сортировка свойств: от общего -- к локальному и менее важному

## Тестирование верстки (чеклист)

- Браузеры
  - Chrome
  - Firefox
  - IE11
  - IE Edge
  - Safari

- Минимальное разрешение экрана



## Особенности интеграции с Битрикс

### Шаблоны и компоненты


### Контексты продуктов и шаблонов сайтов
- Корпоративный портал
	- Шаблон Light
	- Шаблон Bitrix24
- Управление сайтом
- Решение Интернет-магазин
- Шаблоны партнеров
- Индивидуальные сайты
- Использование библиотек
- Верстка шаблона сайта

## Приемы верстки

В этом разделе собраны типовые подходы к решению частых задач верстки.

## Верстка для мобильных устройств